!function(){var t={heading:"",remove:"",events:["click","hover"],animation:"slide",droplist_padding:"0 2em 0 0",list_padding:".5em 1em",droplist_class:"nyulibraries_bobcat_droplist"},e={droplist:function(i){return jQuery(this).each(function(){i&&jQuery.extend(t,i),$container=jQuery(this),$container.addClass(t.droplist_class),$container.find(t.remove).remove();var s=new Array;$container.children().is("select")&&($container.find("select optgroup").each(function(e,i){var r=jQuery(i),n=jQuery("<ul/>");s.push(r.attr("label")),r.children().each(function(e,i){$option=jQuery(i);var s=$option.attr("value"),a=$option.html(),o=r.closest("form").attr("action"),u=r.closest("select").attr("name"),l=jQuery("<li/>"),h=jQuery("<a/>");h.html(a),o.match(/\?/)?h.attr("href",o+"&"+u+"="+s):h.attr("href",o+"?"+u+"="+s),h.addClass(t.droplist_class+"_anchor_"+s),l.append(h),n.append(l)}),$container.append(n)}),$container.find("select").remove(),$container.find("label").remove(),$container.find('input[type="submit"]').remove()),e._create_droplist($container,s)})},_position_droplist:function(t){jQuery(t).is("button")?$this=jQuery(t):jQuery(t).children().size()>0?$this=jQuery(t).find("button"):$this=jQuery(t).closest("button"),$ul=$this.next("ul"),$ul.is("ul")&&$ul.is(":hidden")&&($ul.show(),$ul.position({my:"left top",at:"left bottom",of:$this,collision:"none none"}),$ul.hide())},_toggle:function(i){e._position_droplist(i.target),i.preventDefault(),"show"==t.animation?jQuery(this).next("ul").toggle():jQuery(this).next("ul").slideToggle("fast","linear")},_show:function(i){e._position_droplist(i.target),i.preventDefault(),"show"==t.animation?jQuery(this).children("ul").show():jQuery(this).children("ul").slideDown("fast","linear")},_hide:function(e){e.preventDefault(),"show"==t.animation?jQuery(this).children("ul").hide():jQuery(this).children("ul").slideUp("fast","linear")},_create_droplist:function(i,s){$container=jQuery(i),$container.find("ul").hide(),$container.find("ul").each(function(i,r){var n=jQuery(r),a=s&&s.length>0?s[i]:t.heading,o=a.replace(/[\s\/]/gi,"_").toLowerCase(),u={icons:{primary:null,secondary:"ui-icon-triangle-1-s"}};1==n.children().length&&(a=n.find("li").html(),u={});var l=jQuery("<button/>");l.html(a),l.addClass(t.droplist_class+"_button_"+o),l.button(u),l.bind("click",function(t){t.preventDefault()});var h=jQuery("<span/>");if(h.addClass(t.droplist_class+"_droplist_container"),h.addClass(t.droplist_class+"_droplist_container_"+o),h.css("postion","absolute"),h.css("padding",t.droplist_padding),h.append(l),1==n.children().length?$container.prepend(h):$container.append(h),n.children().length>1){h.append(n);for(var c=0;c<t.events.length;c++){var d=t.events[c];"hover"==d?h.hover(e._show,e._hide):l.bind(d,e._toggle)}h.bind("clickoutside",e._hide),n.children().css("display","block"),n.addClass("ui-widget ui-widget-content ui-corner-all"),n.css("position","absolute"),n.css("padding",t.list_padding)}}),$container.bind("clickoutside",e._hide)}};jQuery.fn.bobcat=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):void jQuery.error("Method "+t+" does not exist on jQuery.bobcat")}}(jQuery),jQuery.url=function(){var t={},e={},i={url:window.location,strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},s=function(){str=decodeURI(i.url);for(var t=i.parser[i.strictMode?"strict":"loose"].exec(str),e={},s=14;s--;)e[i.key[s]]=t[s]||"";return e[i.q.name]={},e[i.key[12]].replace(i.q.parser,function(t,s,r){s&&(e[i.q.name][s]=r)}),e},r=function(t){return e.length||a(),"base"==t?null!==e.port&&""!==e.port?e.protocol+"://"+e.host+":"+e.port+"/":e.protocol+"://"+e.host+"/":""===e[t]?null:e[t]},n=function(t){return e.length||a(),null===e.queryKey[t]?null:e.queryKey[t]},a=function(){e=s(),o()},o=function(){var i=e.path;t=[],t=1==e.path.length?{}:("/"==i.charAt(i.length-1)?i.substring(1,i.length-1):path=i.substring(1)).split("/")};return{setMode:function(t){return strictMode="strict"==t?!0:!1,this},setUrl:function(t){return i.url=void 0===t?window.location:t,a(),this},segment:function(i){return e.length||a(),void 0===i?t.length:""===t[i]||void 0===t[i]?null:t[i]},attr:r,param:n}}(),new function(t){var e=t.separator||"&",i=t.spaces===!1?!1:!0,s=(t.suffix===!1?"":"[]",t.prefix===!1?!1:!0),r=s?t.hash===!0?"#":"?":"",n=t.numbers===!1?!1:!0;jQuery.query=new function(){var t=function(t,e){return void 0!=t&&null!==t&&(e?t.constructor==e:!0)},s=function(t){for(var e,i=/\[([^[]*)\]/g,s=/^([^[]+)(\[.*\])?$/.exec(t),r=s[1],n=[];e=i.exec(s[2]);)n.push(e[1]);return[r,n]},a=function(e,i,s){var r=i.shift();if("object"!=typeof e&&(e=null),""===r)if(e||(e=[]),t(e,Array))e.push(0==i.length?s:a(null,i.slice(0),s));else if(t(e,Object)){for(var n=0;null!=e[n++];);e[--n]=0==i.length?s:a(e[n],i.slice(0),s)}else e=[],e.push(0==i.length?s:a(null,i.slice(0),s));else if(r&&r.match(/^\s*[0-9]+\s*$/)){var o=parseInt(r,10);e||(e=[]),e[o]=0==i.length?s:a(e[o],i.slice(0),s)}else{if(!r)return s;var o=r.replace(/^\s*|\s*$/g,"");if(e||(e={}),t(e,Array)){for(var u={},n=0;n<e.length;++n)u[n]=e[n];e=u}e[o]=0==i.length?s:a(e[o],i.slice(0),s)}return e},o=function(t){var e=this;return e.keys={},t.queryObject?jQuery.each(t.get(),function(t,i){e.SET(t,i)}):jQuery.each(arguments,function(){var t=""+this;t=t.replace(/^[?#]/,""),t=t.replace(/[;&]$/,""),i&&(t=t.replace(/[+]/g," ")),jQuery.each(t.split(/[&;]/),function(){var t=decodeURIComponent(this.split("=")[0]||""),i=decodeURIComponent(this.split("=")[1]||"");t&&(n&&(/^[+-]?[0-9]+\.[0-9]*$/.test(i)?i=parseFloat(i):/^[+-]?[0-9]+$/.test(i)&&(i=parseInt(i,10))),i=i||0===i?i:!0,i!==!1&&i!==!0&&"number"!=typeof i&&(i=i),e.SET(t,i))})}),e};return o.prototype={queryObject:!0,has:function(e,i){var s=this.get(e);return t(s,i)},GET:function(e){if(!t(e))return this.keys;for(var i=s(e),r=i[0],n=i[1],a=this.keys[r];null!=a&&0!=n.length;)a=a[n.shift()];return"number"==typeof a?a:a||""},get:function(e){var i=this.GET(e);return t(i,Object)?jQuery.extend(!0,{},i):t(i,Array)?i.slice(0):i},SET:function(e,i){var r=t(i)?i:null,n=s(e),o=n[0],u=n[1],l=this.keys[o];return this.keys[o]=a(l,u.slice(0),r),this},set:function(t,e){return this.copy().SET(t,e)},REMOVE:function(t){return this.SET(t,null).COMPACT()},remove:function(t){return this.copy().REMOVE(t)},EMPTY:function(){var t=this;return jQuery.each(t.keys,function(e,i){delete t.keys[e]}),t},load:function(t){var e=t.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),i=t.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new o(t.length==i.length?"":i,t.length==e.length?"":e)},empty:function(){return this.copy().EMPTY()},copy:function(){return new o(this)},COMPACT:function(){function e(i){function s(e,i,s){t(e,Array)?e.push(s):e[i]=s}var r="object"==typeof i?t(i,Array)?[]:{}:i;return"object"==typeof i&&jQuery.each(i,function(i,n){return t(n)?void s(r,i,e(n)):!0}),r}return this.keys=e(this.keys),this},compact:function(){return this.copy().COMPACT()},toString:function(){var s=[],n=[],a=function(t){return t+="",i&&(t=t.replace(/ /g,"+")),encodeURIComponent(t)},o=function(e,i,s){if(t(s)&&s!==!1){var r=[a(i)];s!==!0&&(r.push("="),r.push(a(s))),e.push(r.join(""))}},u=function(t,e){var i=function(t){return e&&""!=e?[e,"[",t,"]"].join(""):[t].join("")};jQuery.each(t,function(t,e){"object"==typeof e?u(e,i(t)):o(n,i(t),e)})};return u(this.keys),n.length>0&&s.push(r),s.push(n.join(e)),s.join("")}},new o(location.search,location.hash)}}(jQuery.query||{}),function(t){function e(){t.each(i,function(){this.refresh(!0)})}var i=[],s=/^url\(["']?([^"'\)]*)["']?\);?$/i,r=/\.png$/i,n=t.browser.msie&&6==t.browser.version;t(window).resize(e),t.Poshytip=function(e,i){this.$elm=t(e),this.opts=t.extend({},t.fn.poshytip.defaults,i),this.$tip=t(['<div class="',this.opts.className,'">','<div class="tip-inner tip-bg-image"></div>','<div class="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left"></div>',"</div>"].join("")).appendTo(document.body),this.$arrow=this.$tip.find("div.tip-arrow"),this.$inner=this.$tip.find("div.tip-inner"),this.disabled=!1,this.content=null,this.init()},t.Poshytip.prototype={init:function(){i.push(this);var e=this.$elm.attr("title");if(this.$elm.data("title.poshytip",void 0!==e?e:null).data("poshytip",this),"none"!=this.opts.showOn)switch(this.$elm.bind({"mouseenter.poshytip":t.proxy(this.mouseenter,this),"mouseleave.poshytip":t.proxy(this.mouseleave,this)}),this.opts.showOn){case"hover":"cursor"==this.opts.alignTo&&this.$elm.bind("mousemove.poshytip",t.proxy(this.mousemove,this)),this.opts.allowTipHover&&this.$tip.hover(t.proxy(this.clearTimeouts,this),t.proxy(this.mouseleave,this));break;case"focus":this.$elm.bind({"focus.poshytip":t.proxy(this.show,this),"blur.poshytip":t.proxy(this.hide,this)})}},mouseenter:function(e){return this.disabled?!0:(this.$elm.attr("title",""),"focus"==this.opts.showOn?!0:(this.clearTimeouts(),void(this.showTimeout=setTimeout(t.proxy(this.show,this),this.opts.showTimeout))))},mouseleave:function(e){if(this.disabled||this.asyncAnimating&&(this.$tip[0]===e.relatedTarget||jQuery.contains(this.$tip[0],e.relatedTarget)))return!0;var i=this.$elm.data("title.poshytip");return null!==i&&this.$elm.attr("title",i),"focus"==this.opts.showOn?!0:(this.clearTimeouts(),void(this.hideTimeout=setTimeout(t.proxy(this.hide,this),this.opts.hideTimeout)))},mousemove:function(t){return this.disabled?!0:(this.eventX=t.pageX,this.eventY=t.pageY,void(this.opts.followCursor&&this.$tip.data("active")&&(this.calcPos(),this.$tip.css({left:this.pos.l,top:this.pos.t}),this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow))))},show:function(){this.disabled||this.$tip.data("active")||(this.reset(),this.update(),this.display(),this.opts.timeOnScreen&&setTimeout(t.proxy(this.hide,this),this.opts.timeOnScreen))},hide:function(){!this.disabled&&this.$tip.data("active")&&this.display(!0)},reset:function(){this.$tip.queue([]).detach().css("visibility","hidden").data("active",!1),this.$inner.find("*").poshytip("hide"),this.opts.fade&&this.$tip.css("opacity",this.opacity),this.$arrow[0].className="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left",this.asyncAnimating=!1},update:function(t,e){if(!this.disabled){var i=void 0!==t;if(i){if(e||(this.opts.content=t),!this.$tip.data("active"))return}else t=this.opts.content;var s=this,r="function"==typeof t?t.call(this.$elm[0],function(t){s.update(t)}):"[title]"==t?this.$elm.data("title.poshytip"):t;this.content!==r&&(this.$inner.empty().append(r),this.content=r),this.refresh(i)}},refresh:function(e){if(!this.disabled){if(e){if(!this.$tip.data("active"))return;var i={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var a=this.$tip.css("background-image").match(s),o=this.$arrow.css("background-image").match(s);if(a){var u=r.test(a[1]);n&&u?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),a=u=!1):this.$tip.prepend('<table border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+a[1]+'")').end().find("td").eq(3).append(this.$inner),u&&!t.support.opacity&&(this.opts.fade=!1)}o&&!t.support.opacity&&(n&&r.test(o[1])&&(o=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var l=this.$tip.find("table");if(n){this.$tip[0].style.width="",l.width("auto").find("td").eq(3).width("auto");var h=this.$tip.width(),c=parseInt(this.$tip.css("min-width")),d=parseInt(this.$tip.css("max-width"));!isNaN(c)&&c>h?h=c:!isNaN(d)&&h>d&&(h=d),this.$tip.add(l).width(h).eq(0).find("td").eq(3).width("100%")}else l[0]&&l.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),o&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),e){this.asyncAnimating=!0;var p=this;this.$tip.css(i).animate({left:this.pos.l,top:this.pos.t},200,function(){p.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}},display:function(e){var i=this.$tip.data("active");if(!(i&&!e||!i&&e)){if(this.$tip.stop(),(this.opts.slide&&this.pos.arrow||this.opts.fade)&&(e&&this.opts.hideAniDuration||!e&&this.opts.showAniDuration)){var s={},r={};if(this.opts.slide&&this.pos.arrow){var n,a;"bottom"==this.pos.arrow||"top"==this.pos.arrow?(n="top",a="bottom"):(n="left",a="right");var o=parseInt(this.$tip.css(n));s[n]=o+(e?0:this.pos.arrow==a?-this.opts.slideOffset:this.opts.slideOffset),r[n]=o+(e?this.pos.arrow==a?this.opts.slideOffset:-this.opts.slideOffset:0)+"px"}this.opts.fade&&(s.opacity=e?this.$tip.css("opacity"):0,r.opacity=e?0:this.opacity),this.$tip.css(s).animate(r,this.opts[e?"hideAniDuration":"showAniDuration"])}e?this.$tip.queue(t.proxy(this.reset,this)):this.$tip.css("visibility","inherit"),this.$tip.data("active",!i)}},disable:function(){this.reset(),this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.reset(),this.$tip.remove(),delete this.$tip,this.content=null,this.$elm.unbind(".poshytip").removeData("title.poshytip").removeData("poshytip"),i.splice(t.inArray(this,i),1)},clearTimeouts:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},calcPos:function(){var e,i,s,r,n,a,o={l:0,t:0,arrow:""},u=t(window),l={l:u.scrollLeft(),t:u.scrollTop(),w:u.width(),h:u.height()};if("cursor"==this.opts.alignTo)e=i=s=this.eventX,r=n=a=this.eventY;else{var h=this.$elm.offset(),c={l:h.left,t:h.top,w:this.$elm.outerWidth(),h:this.$elm.outerHeight()};e=c.l+("inner-right"!=this.opts.alignX?0:c.w),i=e+Math.floor(c.w/2),s=e+("inner-left"!=this.opts.alignX?c.w:0),r=c.t+("inner-bottom"!=this.opts.alignY?0:c.h),n=r+Math.floor(c.h/2),a=r+("inner-top"!=this.opts.alignY?c.h:0)}switch(this.opts.alignX){case"right":case"inner-left":o.l=s+this.opts.offsetX,o.l+this.tipOuterW>l.l+l.w&&(o.l=l.l+l.w-this.tipOuterW),("right"==this.opts.alignX||"center"==this.opts.alignY)&&(o.arrow="left");break;case"center":o.l=i-Math.floor(this.tipOuterW/2),o.l+this.tipOuterW>l.l+l.w?o.l=l.l+l.w-this.tipOuterW:o.l<l.l&&(o.l=l.l);break;default:o.l=e-this.tipOuterW-this.opts.offsetX,o.l<l.l&&(o.l=l.l),("left"==this.opts.alignX||"center"==this.opts.alignY)&&(o.arrow="right")}switch(this.opts.alignY){case"bottom":case"inner-top":o.t=a+this.opts.offsetY,o.arrow&&"cursor"!=this.opts.alignTo||(o.arrow="top"),o.t+this.tipOuterH>l.t+l.h&&(o.t=r-this.tipOuterH-this.opts.offsetY,"top"==o.arrow&&(o.arrow="bottom"));break;case"center":o.t=n-Math.floor(this.tipOuterH/2),o.t+this.tipOuterH>l.t+l.h?o.t=l.t+l.h-this.tipOuterH:o.t<l.t&&(o.t=l.t);break;default:o.t=r-this.tipOuterH-this.opts.offsetY,o.arrow&&"cursor"!=this.opts.alignTo||(o.arrow="bottom"),o.t<l.t&&(o.t=a+this.opts.offsetY,"bottom"==o.arrow&&(o.arrow="top"))}this.pos=o}},t.fn.poshytip=function(e){if("string"==typeof e){var i=arguments,s=e;return Array.prototype.shift.call(i),"destroy"==s&&this.die("mouseenter.poshytip").die("focus.poshytip"),this.each(function(){var e=t(this).data("poshytip");e&&e[s]&&e[s].apply(e,i)})}var r=t.extend({},t.fn.poshytip.defaults,e);if(t("#poshytip-css-"+r.className)[0]||t(['<style id="poshytip-css-',r.className,'" type="text/css">',"div.",r.className,"{visibility:hidden;position:absolute;top:0;left:0;}","div.",r.className," table, div.",r.className," td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;}","div.",r.className," td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:",r.bgImageFrameSize,"px;width:",r.bgImageFrameSize,"px;overflow:hidden;}","div.",r.className," td.tip-right{background-position:100% 0;}","div.",r.className," td.tip-bottom{background-position:100% 100%;}","div.",r.className," td.tip-left{background-position:0 100%;}","div.",r.className," div.tip-inner{background-position:-",r.bgImageFrameSize,"px -",r.bgImageFrameSize,"px;}","div.",r.className," div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}","</style>"].join("")).appendTo("head"),r.liveEvents&&"none"!=r.showOn){var n=t.extend({},r,{liveEvents:!1});switch(r.showOn){case"hover":this.live("mouseenter.poshytip",function(){var e=t(this);e.data("poshytip")||e.poshytip(n).poshytip("mouseenter")});break;case"focus":this.live("focus.poshytip",function(){var e=t(this);e.data("poshytip")||e.poshytip(n).poshytip("show")})}return this}return this.each(function(){new t.Poshytip(this,r)})},t.fn.poshytip.defaults={content:"[title]",className:"tip-yellow",bgImageFrameSize:10,showTimeout:500,hideTimeout:100,timeOnScreen:0,showOn:"hover",liveEvents:!1,alignTo:"cursor",alignX:"right",alignY:"top",offsetX:-22,offsetY:18,allowTipHover:!0,followCursor:!1,fade:!0,slide:!0,slideOffset:8,showAniDuration:300,hideAniDuration:300}}(jQuery),function(){var t={base_url:"https://web1.library.nyu.edu/common/retrieve_file_contents_as_json.php",floatIt:!1,c_theme:"tip-custom-yellow"},e={init:function(e){return this.each(function(){e&&jQuery.extend(t,e);var i=jQuery(this);t.floatIt&&(i.wrap(jQuery("<div />").css("position","relative")),i.css({position:"absolute","float":"right",right:"0",width:"200px"})),$delay=i.hasClass("tip-delayed")||i.find(".tip-link").hasClass("tip-delayed")?500:1,$alignX=i.offset().left>Math.ceil(.75*jQuery(document).width())?"left":"inner-left",$alignY=i.offset().left>Math.ceil(.75*jQuery(document).width())?"center":"bottom",$offsetY=i.offset().left>Math.ceil(.75*jQuery(document).width())?1:5,i.offset().left>Math.ceil(.75*jQuery(document).width())?$offsetX=5:i.hasClass("nyulibrary_help")?$offsetX=-10:$offsetX=1,i.hasClass("tip-link-dialog")||i.find(".tip-link-dialog").is("a")?(loop=i.hasClass("tip-link-dialog")?i:i.find("a.tip-link-dialog"),loop.each(function(){full_html=jQuery(this).hasClass("tip-link-full")?"&full_html=true&embed_css=true":"";var e=jQuery("<div></div>").dialog({autoOpen:!1,title:jQuery(this).attr("title"),width:"auto",height:"auto",modal:!1});jQuery.getJSON(t.base_url+"?the_url="+jQuery(this).attr("href")+full_html+"&callback=?",function(t){e.html(t.theHtml)}),jQuery(this).click(function(){return e.dialog("open"),!1})})):i.hasClass("nyulibrary_help")?(i.poshytip({className:t.c_theme,showTimeout:$delay,alignTo:"target",alignX:$alignX,alignY:$alignY,offsetX:$offsetX,offsetY:$offsetY,allowTipHover:!0,content:function(e){var s=jQuery(this).attr("new_html");return s?s:(jQuery.getJSON(t.base_url+"?the_url="+i.attr("href")+"&callback=?",function(t){e(t.theHtml)}),"Loading...")}}),jQuery.browser.msie&&jQuery("."+t.c_theme).addClass("tip-remote")):i.find("a.tip-link").hasClass("tip-link")||i.hasClass("tip-link")?(loop=i.hasClass("tip-link")?i:i.find("a.tip-link"),loop.each(function(){jQuery(this).poshytip({className:t.c_theme,showTimeout:$delay,alignTo:"target",alignX:$alignX,alignY:$alignY,offsetX:$offsetX,offsetY:$offsetY,allowTipHover:!0,content:function(e){full_html=jQuery(this).hasClass("tip-link-full")?"&full_html=true&embed_css=true":"";var i=jQuery(this).attr("tip_link_html");return i?i:(jQuery.getJSON(t.base_url+"?the_url="+jQuery(this).attr("href")+full_html+"&callback=?",function(t){e(t.theHtml)}),"Loading...")}}),jQuery.browser.msie&&jQuery("."+t.c_theme).addClass("tip-remote")})):i.is("a")&&i.poshytip({className:t.c_theme,showTimeout:$delay,alignTo:"target",alignX:$alignX,alignY:$alignY,offsetX:$offsetX,offsetY:$offsetY,allowTipHover:!1})})}};jQuery.fn.nyulibrary_popup_tip=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):void jQuery.error("Method "+t+" does not exist on jQuery.nyulibrary_popup_tip")}}(jQuery),function(t){function e(){t.fn.ajaxSubmit.debug&&window.console&&window.console.log&&window.console.log("[jquery.form] "+Array.prototype.join.call(arguments,""))}t.fn.ajaxSubmit=function(i){function s(){function s(){if(!f++){c.detachEvent?c.detachEvent("onload",s):c.removeEventListener("load",s,!1);var i=!0;try{if(m)throw"timeout";var n,o;o=c.contentWindow?c.contentWindow.document:c.contentDocument?c.contentDocument:c.document;var u="xml"==a.dataType||o.XMLDocument||t.isXMLDoc(o);if(e("isXml="+u),!u&&(null==o.body||""==o.body.innerHTML))return--y?(f=0,void setTimeout(s,100)):void e("Could not access iframe DOM after 50 tries.");if(d.responseText=o.body?o.body.innerHTML:null,d.responseXML=o.XMLDocument?o.XMLDocument:o,d.getResponseHeader=function(t){var e={"content-type":a.dataType};return e[t]},"json"==a.dataType||"script"==a.dataType){var h=o.getElementsByTagName("textarea")[0];if(h)d.responseText=h.value;else{var g=o.getElementsByTagName("pre")[0];g&&(d.responseText=g.innerHTML)}}else"xml"!=a.dataType||d.responseXML||null==d.responseText||(d.responseXML=r(d.responseText));n=t.httpData(d,a.dataType)}catch(v){i=!1,t.handleError(a,d,"error",v)}i&&(a.success(n,"success"),p&&t.event.trigger("ajaxSuccess",[d,a])),p&&t.event.trigger("ajaxComplete",[d,a]),p&&!--t.active&&t.event.trigger("ajaxStop"),a.complete&&a.complete(d,i?"success":"error"),setTimeout(function(){l.remove(),d.responseXML=null},100)}}function r(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.tagName?e:null}var n=h[0];if(t(":input[name=submit]",n).length)return void alert('Error: Form elements must not be named "submit".');var a=t.extend({},t.ajaxSettings,i),o=t.extend(!0,{},t.extend(!0,{},t.ajaxSettings),a),u="jqFormIO"+(new Date).getTime(),l=t('<iframe id="'+u+'" name="'+u+'" src="'+a.iframeSrc+'" />'),c=l[0];l.css({position:"absolute",top:"-1000px",left:"-1000px"});var d={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1,l.attr("src",a.iframeSrc)}},p=a.global;if(p&&!t.active++&&t.event.trigger("ajaxStart"),p&&t.event.trigger("ajaxSend",[d,a]),o.beforeSend&&o.beforeSend(d,o)===!1)return void(o.global&&t.active--);if(!d.aborted){var f=0,m=0,g=n.clk;if(g){var v=g.name;v&&!g.disabled&&(i.extraData=i.extraData||{},i.extraData[v]=g.value,"image"==g.type&&(i.extraData[name+".x"]=n.clk_x,i.extraData[name+".y"]=n.clk_y))}setTimeout(function(){var e=h.attr("target"),r=h.attr("action");n.setAttribute("target",u),"POST"!=n.getAttribute("method")&&n.setAttribute("method","POST"),n.getAttribute("action")!=a.url&&n.setAttribute("action",a.url),i.skipEncodingOverride||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),a.timeout&&setTimeout(function(){m=!0,s()},a.timeout);var o=[];try{if(i.extraData)for(var d in i.extraData)o.push(t('<input type="hidden" name="'+d+'" value="'+i.extraData[d]+'" />').appendTo(n)[0]);l.appendTo("body"),c.attachEvent?c.attachEvent("onload",s):c.addEventListener("load",s,!1),n.submit()}finally{n.setAttribute("action",r),e?n.setAttribute("target",e):h.removeAttr("target"),t(o).remove()}},10);var y=50}}if(!this.length)return e("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof i&&(i={success:i});var r=t.trim(this.attr("action"));r&&(r=(r.match(/^([^#]+)/)||[])[1]),r=r||window.location.href||"",i=t.extend({url:r,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i||{});var n={};if(this.trigger("form-pre-serialize",[this,i,n]),n.veto)return e("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&i.beforeSerialize(this,i)===!1)return e("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var a=this.formToArray(i.semantic);if(i.data){i.extraData=i.data;for(var o in i.data)if(i.data[o]instanceof Array)for(var u in i.data[o])a.push({name:o,value:i.data[o][u]});else a.push({name:o,value:i.data[o]})}if(i.beforeSubmit&&i.beforeSubmit(a,this,i)===!1)return e("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,i,n]),n.veto)return e("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var l=t.param(a);"GET"==i.type.toUpperCase()?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+l,i.data=null):i.data=l;var h=this,c=[];if(i.resetForm&&c.push(function(){h.resetForm()}),i.clearForm&&c.push(function(){h.clearForm()}),!i.dataType&&i.target){var d=i.success||function(){};c.push(function(e){t(i.target).html(e).each(d,arguments)})}else i.success&&c.push(i.success);i.success=function(t,e){for(var s=0,r=c.length;r>s;s++)c[s].apply(i,[t,e,h])};for(var p=t("input:file",this).fieldValue(),f=!1,m=0;m<p.length;m++)p[m]&&(f=!0);var g=!1;return p.length&&i.iframe!==!1||i.iframe||f||g?i.closeKeepAlive?t.get(i.closeKeepAlive,s):s():t.ajax(i),this.trigger("form-submit-notify",[this,i]),this},t.fn.ajaxForm=function(e){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){return t(this).ajaxSubmit(e),!1}).bind("click.form-plugin",function(e){var i=e.target,s=t(i);if(!s.is(":submit,input:image")){var r=s.closest(":submit");if(0==r.length)return;i=r[0]}var n=this;if(n.clk=i,"image"==i.type)if(void 0!=e.offsetX)n.clk_x=e.offsetX,n.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var a=s.offset();n.clk_x=e.pageX-a.left,n.clk_y=e.pageY-a.top}else n.clk_x=e.pageX-i.offsetLeft,n.clk_y=e.pageY-i.offsetTop;setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)})},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e){var i=[];if(0==this.length)return i;var s=this[0],r=e?s.getElementsByTagName("*"):s.elements;if(!r)return i;for(var n=0,a=r.length;a>n;n++){var o=r[n],u=o.name;if(u)if(e&&s.clk&&"image"==o.type)o.disabled||s.clk!=o||(i.push({name:u,value:t(o).val()}),i.push({name:u+".x",value:s.clk_x},{name:u+".y",value:s.clk_y}));else{var l=t.fieldValue(o,!0);if(l&&l.constructor==Array)for(var h=0,c=l.length;c>h;h++)i.push({name:u,value:l[h]});else null!==l&&"undefined"!=typeof l&&i.push({name:u,value:l})}}if(!e&&s.clk){var d=t(s.clk),p=d[0],u=p.name;u&&!p.disabled&&"image"==p.type&&(i.push({name:u,value:d.val()}),i.push({name:u+".x",value:s.clk_x},{name:u+".y",value:s.clk_y}))}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var s=this.name;if(s){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var n=0,a=r.length;a>n;n++)i.push({name:s,value:r[n]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],s=0,r=this.length;r>s;s++){var n=this[s],a=t.fieldValue(n,e);null===a||"undefined"==typeof a||a.constructor==Array&&!a.length||(a.constructor==Array?t.merge(i,a):i.push(a))}return i},t.fieldValue=function(t,e){var i=t.name,s=t.type,r=t.tagName.toLowerCase();if("undefined"==typeof e&&(e=!0),e&&(!i||t.disabled||"reset"==s||"button"==s||("checkbox"==s||"radio"==s)&&!t.checked||("submit"==s||"image"==s)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var n=t.selectedIndex;if(0>n)return null;for(var a=[],o=t.options,u="select-one"==s,l=u?n+1:o.length,h=u?n:0;l>h;h++){var c=o[h];if(c.selected){var d=c.value;if(d||(d=c.attributes&&c.attributes.value&&!c.attributes.value.specified?c.text:c.value),u)return d;a.push(d)}}return a}return t.value},t.fn.clearForm=function(){return this.each(function(){t("input,select,textarea",this).clearFields()})},t.fn.clearFields=t.fn.clearInputs=function(){return this.each(function(){var t=this.type,e=this.tagName.toLowerCase();"text"==t||"password"==t||"textarea"==e?this.value="":"checkbox"==t||"radio"==t?this.checked=!1:"select"==e&&(this.selectedIndex=-1)})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0==t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0==e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var s=t(this).parent("select");e&&s[0]&&"select-one"==s[0].type&&s.find("option").selected(!1),this.selected=e}})}}(jQuery),/*! jQuery Validation Plugin - v1.11.1 - 3/22/2013\n* https://github.com/jzaefferer/jquery-validation
* Copyright (c) 2013 Jörn Zaefferer; Licensed MIT */
function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var r=t.data(s.form,"validator").settings,n=r.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=t.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var o={};return t.each(i.split(/\s/),function(t,e){o[e]=a[e],delete a[e]}),o}}var u=t.validator.normalizeRules(t.extend({},t.validator.classRules(s),t.validator.attributeRules(s),t.validator.dataRules(s),t.validator.staticRules(s)),s);if(u.required){var l=u.required;delete u.required,u=t.extend({required:l},u)}return u}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){"string"==typeof s&&(s=s.split(/\s/)),t.each(s,function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),s=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s=t(e).rules(),r=!1,n=this.elementValue(e);for(var a in s){var o={method:a,parameters:s[a]};try{if(i=t.validator.methods[a].call(this,n,e,o.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,o),!1}catch(u){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+o.method+"' method.",u),u}}return r?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e),r=s[0].getAttribute("type");for(var n in t.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return void delete e[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],3>i.length&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(""+new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1;t=t.replace(/\D/g,"");for(var n=t.length-1;n>=0;n--){var a=t.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return 0===i%10},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&s[1]>=r},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&i[1]>=t},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===e)return r.valid;r.old=e;var n=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var o=n.formSubmitted;n.prepareElement(i),n.formSubmitted=o,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var u={},l=s||n.defaultMessage(i,"remote");u[i.name]=r.message=t.isFunction(l)?l(e):l,n.invalid[i.name]=!0,n.showErrors(u)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=s)});else{var i=t.ajax;t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(e[n]&&e[n].abort(),e[n]=i.apply(this,arguments),e[n]):i.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})}(jQuery),function(){jQuery(function(t){var e,i,s;return t(".actions").show(),t("div.actions").bobcat("droplist",{droplist_class:"tsetse_droplist",events:["click","hover"]}),t("div.actions ul li a").live("click",function(e){var i;return i=t(this).closest("form").attr("action")+"?"+t.query.load(t(this).attr("href")).get("service[action]"),t(this).attr({href:i})}),t(".nyulibrary_help").nyulibrary_popup_tip("init"),e=function(t){return t.replace(/\B[A-Z]/g,function(t){return t.toLowerCase()})},t(".login a, hgroup .username").text(function(){return e(t(this).text())}),t(".status_container:has(span.statusNormal)").addClass("info"),t(".status_container:has(.success)").addClass("success"),t(".status_container:has(span.statusInformation)").addClass("info"),t(".status_container:has(span.statusError)").addClass("error"),t(".status_container").children(":has(.success)").removeClass("success"),t(".status_container").children(":has(.error)").removeClass("error"),""===t.trim(t(".status_container").html())&&t(".status_container").hide(),i=function(e,i){return t.trim(e.children("option:selected").text())===i},t("form#IlliadForm").length&&t("form#IlliadForm").validate(),i(t("form #ShippingOptions"),"Other NYU Global Site")||t("form .field:has(input#CitedIn)").hide(),t("form #NotWantedAfter").datepicker({minDate:0}),t("form #ShippingOptions").change(function(){return i(t(this),"Other NYU Global Site")?(t("form .field:has(input#CitedIn)").show(),t("form .field input#CitedIn").addClass("required").focus()):t("form .field:has(input#CitedIn)").hide()}),t("form").live("submit",function(e){return t(this).find(".defaultText").each(function(){return t(this).val()===t(this).attr("title")?t(this).val(""):void 0})}),t("#NewAuthRegistration .username").hide(),s=function(t){return t.attr("href")},t(".default-table table tbody tr td:first-child a").each(function(){var e;return/\d+/.test(t(this).html())?(e=t("<a />").attr("href",s(t(this))).html(t(this).closest("tr").find(":nth-child(3)").text()),t(this).closest("tr").find(":nth-child(3)").html(e)):void 0}),t(".defaultText").live("focus",function(e){return t(this).val()===t(this).attr("title")?(t(this).removeClass("defaultTextActive"),t(this).val("")):void 0}),t(".defaultText").live("blur",function(e){return""===t(this).val()?(t(this).addClass("defaultTextActive"),t(this).val(t(this).attr("title"))):void 0}),t(".defaultText").focus(),t(".defaultText").blur()})}.call(this);